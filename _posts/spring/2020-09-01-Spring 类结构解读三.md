 ---
 layout:     post
 title:      Spring 类结构解读三
 subtitle:   Spring 类结构解读三
 date:       2020-09-01
 author:     Eagle Cool
 header-img: img/post-bg-ios9-web.jpg
 catalog: 	 true
 tags:       Spring
 ---

# Validator

![0FHuVJ.png](https://s1.ax1x.com/2020/09/27/0FHuVJ.png)
 
此接口与任何基础结构或上下文完全脱离；也就是说，它不与仅验证 Web 层，数据访问层或任何层中的对象耦合。
因此，它可以在应用程序的任何层中使用，并支持将验证逻辑本身封装为一等公民。

在下面找到一个简单但完整的 Validator 实现，该实现验证 UserLogin 实例的各种 String 属性不为空
（即它们不为 null 且不完全由空格组成），并且存在的任何密码长度至少为 'MINIMUM_PASSWORD_LENGTH' 
个字符。

## ConfigurationPropertiesJsr303Validator

支持校验 @Validated 注解的配置类

## NoOpValidator

没有操作的 Validator

## SmartValidator

支持添加 'hints'

## ValidatorAdapter









# 其它类

## FactoryBean

由 BeanFactory 中使用的对象实现的接口，这些对象本身就是单个对象的工厂。如果 Bean 实现此接口，
则它将用作对象公开的工厂，而不是直接用作将自身公开的 Bean 实例。

注意：实现此接口的 bean 不能用作普通 bean。FactoryBean 是用 bean 样式定义的，但是为
bean 引用公开的对象始终是 getObject() 创建的对象。

FactoryBeans 可以支持单例和原型，并且可以按需延迟创建对象，也可以在启动时急于创建对象。
SmartFactoryBean 接口允许公开更细粒度的行为元数据。

此接口在框架本身中被大量使用，例如用于 AOP ProxyFactoryBean 或 JndiObjectFactoryBean。
它也可以用于自定义组件。但是，这仅在基础结构代码中很常见。

FactoryBean 是程序化合同。实现不应依赖于注释驱动的注入或其他反射工具。

getObjectType()，getObject() 调用可能会在引导过程的早期到达，甚至在任何后处理器设置之前。
如果需要访问其他 bean，请实现 BeanFactoryAware 并以编程方式获取它们。

容器仅负责管理 FactoryBean 实例的生命周期，而不负责管理 FactoryBean 创建的对象的生命周期。
因此，不会自动调用暴露的 bean 对象上的 destroy 方法（例如Closeable.close()。相反，
FactoryBean 应该实现 DisposableBean 并将任何此类 close 调用委托给基础对象。

最后，FactoryBean 对象参与包含 BeanFactory 的 Bean 创建同步。除了出于 FactoryBean
自身（或类似方式）内部的延迟初始化的目的之外，通常不需要内部同步。

## SmartFactoryBean

FactoryBean 接口的扩展。实现可能会指示它们是否始终返回独立实例，因为其
FactoryBean.isSingleton() 实现返回 false 并不能清楚地指示独立实例。

简单假设不实现此扩展接口的 Plain FactoryBean 实现始终返回独立的实例，如果它们的
FactoryBean.isSingleton() 实现返回false；暴露的对象仅按需访问。

注意：此接口是一个专用接口，主要供框架内部和协作框架内部使用。通常，应用程序提供的
FactoryBeans 应该仅实现简单的 FactoryBean 接口。即使在点发行版中，新方法也可能会添加到此扩展接口中。



